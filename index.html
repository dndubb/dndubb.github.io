<!DOCTYPE html>
<html>
<head>
  <base href="https://websim.ai/c/3d-photo-world" />
  <title>3D Photo World Creator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; }
    canvas { width: 100%; height: 100% }
    #info {
      position: absolute;
      top: 10px;
      width: 100%;
      text-align: center;
      color: white;
      font-family: Arial, sans-serif;
      pointer-events: none;
    }
  </style>
</head>
<body>
<div id="info">3D Photo World Creator<br>Landscape from photo1.jpg, Rotating cubes from photo2.jpg</div>
<script>
let scene, camera, renderer, cubes = [];

function init() {
  scene = new THREE.Scene();
  camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  renderer = new THREE.WebGLRenderer();
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  // Load landscape texture
  const textureLoader = new THREE.TextureLoader();
  textureLoader.load('photo1.jpg', (landscapeTexture) => {
    const landscapeGeometry = new THREE.PlaneGeometry(100, 100);
    const landscapeMaterial = new THREE.MeshBasicMaterial({ map: landscapeTexture });
    const landscapeMesh = new THREE.Mesh(landscapeGeometry, landscapeMaterial);
    landscapeMesh.position.set(0, -50, -100); // Adjust position as needed
    landscapeMesh.rotation.x = -Math.PI / 2; // Rotate to lay flat
    scene.add(landscapeMesh);
    console.log('Landscape texture loaded');
  }, undefined, (err) => {
    console.error('Error loading landscape texture:', err);
  });

  // Load cube texture
  textureLoader.load('photo2.jpg', (cubeTexture) => {
    const cubeGeometry = new THREE.BoxGeometry(1, 1, 1);
    const cubeMaterial = new THREE.MeshBasicMaterial({ map: cubeTexture });

    for (let i = 0; i < 5; i++) {
      const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
      cube.position.set(
        Math.random() * 8 - 4,
        Math.random() * 8 - 4,
        Math.random() * 8 - 4
      );
      scene.add(cube);
      cubes.push(cube);
    }
    console.log('Cube texture loaded');
  }, undefined, (err) => {
    console.error('Error loading cube texture:', err);
  });

  camera.position.z = 10;

  window.addEventListener('resize', onWindowResize, false);
}

function onWindowResize() {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
}

function animate() {
  requestAnimationFrame(animate);

  cubes.forEach(cube => {
    cube.rotation.x += 0.01;
    cube.rotation.y += 0.01;
  });

  renderer.render(scene, camera);
}

init();
animate();
</script>
</body>
</html>
